import {requireLogin,logout}from '../js/auth-manager.js';import {getBanks,getActivePromotions}from '../js/data-manager.js';await requireLogin('admin');const $=s=>document.querySelector(s);$('#btn-logout')?.addEventListener('click',()=>logout());async function load(){const banks=await getBanks();const promos=await getActivePromotions();const bt=$('#tbl-banks tbody');bt.innerHTML='';banks.forEach(b=>{const tr=document.createElement('tr');tr.innerHTML=`<td>${b.id}</td><td>${b.short_name||''}</td><td>${b.name||''}</td>`;bt.appendChild(tr)});const pt=$('#tbl-promos tbody');pt.innerHTML='';promos.forEach(p=>{const tr=document.createElement('tr');tr.innerHTML=`<td>${p.id}</td><td>${p.bank_id}</td><td>${p.product_type||''}</td><td>${p.title||''}</td><td>${p.year1_rate??''}</td><td>${p.base_rate??''}+${p.spread??''}</td><td>${p.is_active?'âœ…':''}</td>`;pt.appendChild(tr)})}load()