(function(w){function focusables(root){return Array.prototype.slice.call((root||document).querySelectorAll('input, select, textarea, button, [tabindex]:not([tabindex="-1"])')).filter(function(el){return !el.disabled && el.offsetParent !== null;});}function enableEnterNavigation(root){(root||document).addEventListener('keydown',function(e){if(e.key!=='Enter')return;var t=e.target;if(!(t instanceof HTMLElement))return;if(t.tagName==='TEXTAREA'||(t.type&&t.type.toLowerCase()==='submit'))return;e.preventDefault();var list=focusables(root);var i=list.indexOf(t);if(i>=0&&i<list.length-1){list[i+1].focus();}});}function enableNumericKeypad(selector){var all=document.querySelectorAll(selector||'input[type=number], input[data-number]');all.forEach(function(el){el.setAttribute('inputmode','decimal');el.setAttribute('enterkeyhint','next');if(el.type!=='number')el.setAttribute('pattern','[0-9.]*');});}function enableThousands(selector){var els=document.querySelectorAll(selector);els.forEach(function(el){el.type='text';el.setAttribute('inputmode','numeric');el.addEventListener('focus',function(){el.value=(el.value||'').replace(/,/g,'');});el.addEventListener('blur',function(){var raw=(el.value||'').replace(/[^\d.]/g,'');if(raw===''){el.value='';return;}var parts=raw.split('.');parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,',');el.value=parts.join('.');});});}w.FormUX={enableEnterNavigation:enableEnterNavigation,enableNumericKeypad:enableNumericKeypad,enableThousands:enableThousands};})(window);