<!doctype html><html lang="th"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Loan App — Login</title><link rel="stylesheet" href="./css/app.css"/></head><body><div class="container"><h1>Loan App</h1><div class="panel"><h2>เข้าสู่ระบบ</h2><form id="login-form" class="grid"><div><label>อีเมล</label><input id="email" type="email" required/></div><div><label>รหัสผ่าน</label><input id="password" type="password" required/></div><div class="row"><button class="btn primary" type="submit">เข้าสู่ระบบ</button><button class="btn ghost" id="btn-check-session" type="button">ตรวจสอบเซสชัน</button></div><div class="note">ถ้าล็อกอินแล้ว ระบบจะพาไปยังหน้าที่เกี่ยวข้องอัตโนมัติ</div></form></div><div class="footer">© Loan App</div></div><script type="module">import {login,redirectAfterLogin,getSession} from './js/auth-manager.js';redirectAfterLogin();document.getElementById('login-form').addEventListener('submit',async e=>{e.preventDefault();const email=document.getElementById('email').value.trim();const password=document.getElementById('password').value;try{await login(email,password);await redirectAfterLogin()}catch(e){alert('เข้าสู่ระบบไม่สำเร็จ: '+(e?.message||e))}});document.getElementById('btn-check-session').addEventListener('click',async()=>{const s=await getSession();alert(s?'มีเซสชัน':'ยังไม่ได้ล็อกอิน')});</script></body></html>