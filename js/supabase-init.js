import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.45.3'; const cfg=(window.__SUPABASE||{}); export const supabase=(cfg.url&&cfg.anonKey)?createClient(cfg.url,cfg.anonKey,{auth:{persistSession:true,autoRefreshToken:true}}):{from(){return{select(){return Promise.resolve({data:[],error:null})}}},auth:{onAuthStateChange(){return{data:{subscription:{unsubscribe(){}}}}},getSession(){return Promise.resolve({data:{session:null},error:null})},signInWithPassword(){return Promise.resolve({data:{user:null},error:new Error('No Supabase config')})},signOut(){return Promise.resolve({error:null})}}}; window.supabase=supabase; export default supabase;